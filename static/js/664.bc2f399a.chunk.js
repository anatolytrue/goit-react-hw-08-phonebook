"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[664],{6664:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(5861),o=t(885),s=t(4687),i=t.n(s),a=t(5048),l=t(2791),u=t(8724),d=t(188),c=t(6015),m=t(1181),p=t(1898),h=t(9365),g=t(4420),f=t(8254),v=t(3811),w=t(7205),x=t(6580),Z=t(5286),j=t(9569),b=t(3710),k=t(5206),C=t(184);function y(){var e=(0,l.useState)(""),n=(0,o.Z)(e,2),t=n[0],s=n[1],y=(0,l.useState)(""),S=(0,o.Z)(y,2),_=S[0],z=S[1],A=(0,l.useState)(!1),I=(0,o.Z)(A,2),E=I[0],H=I[1],L=(0,a.I0)(),M=(0,u.OQ)(),R=(0,o.Z)(M,2),D=R[0],q=R[1],F=q.data,O=q.isLoading,P=q.isSuccess,T=q.isError,G=q.error,N=function(){var e=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,D({email:t,password:_});case 3:s(""),z("");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Q=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"email":return s(r);case"password":return z(r);default:return}};return(0,l.useEffect)((function(){P&&(L((0,d.qN)({user:{name:F.user.name,email:F.user.email},token:F.token})),k.Am.success("You have logged in successfully!",{position:"top-center",autoClose:3e3})),T&&400===(null===G||void 0===G?void 0:G.originalStatus)?k.Am.error("Sorry, we can't find this page!",{position:"top-center",autoClose:3e3}):T&&"FETCH_ERROR"===(null===G||void 0===G?void 0:G.status)?k.Am.error("Internet is disconnected",{position:"top-center",autoClose:3e3}):T&&k.Am.error("Something went wrong, please try again later!",{position:"top-center",autoClose:3e3})}),[L,F,P,T,null===G||void 0===G?void 0:G.originalStatus,null===G||void 0===G?void 0:G.status]),(0,C.jsxs)(c.Z,{component:"form",onSubmit:N,sx:{padding:"1.6rem",maxWidth:"16rem",display:"grid",gridTemplateColumns:"1fr",gridGap:"0.4rem",alignItems:"baseline"},children:[(0,C.jsx)(m.Z,{label:"Mail",size:"small",margin:"normal",type:"email",name:"email",value:t,onChange:Q,required:!0}),(0,C.jsxs)(p.Z,{variant:"outlined",children:[(0,C.jsx)(h.Z,{htmlFor:"outlined-adornment-password",sx:{lineHeight:"2em"},children:"Password"}),(0,C.jsx)(g.Z,{id:"outlined-adornment-password",type:E?"text":"password",label:"Password",name:"password",value:_,onChange:Q,size:"small",endAdornment:(0,C.jsx)(f.Z,{position:"end",children:(0,C.jsx)(v.Z,{"aria-label":"toggle password visibility",onClick:function(){H(!E)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:E?(0,C.jsx)(j.Z,{}):(0,C.jsx)(b.Z,{})})}),sx:{m:"1rem 0",lineHeight:"4em"}})]}),(0,C.jsx)(w.Z,{variant:"contained",type:"submit",margin:"normal",sx:{width:"8 rem"},endIcon:O?(0,C.jsx)(x.Z,{size:16,thickness:4,color:"inherit"}):(0,C.jsx)(Z.Z,{}),children:"LogIn"})]})}},5286:function(e,n,t){var r=t(4836);n.Z=void 0;var o=r(t(5649)),s=t(184),i=(0,o.default)((0,s.jsx)("path",{d:"M10.3 7.7c-.39.39-.39 1.01 0 1.4l1.9 1.9H3c-.55 0-1 .45-1 1s.45 1 1 1h9.2l-1.9 1.9c-.39.39-.39 1.01 0 1.4.39.39 1.01.39 1.4 0l3.59-3.59c.39-.39.39-1.02 0-1.41L11.7 7.7a.9839.9839 0 0 0-1.4 0zM20 19h-7c-.55 0-1 .45-1 1s.45 1 1 1h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v14z"}),"LoginRounded");n.Z=i}}]);
//# sourceMappingURL=664.bc2f399a.chunk.js.map