"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[743],{5743:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var n=a(885),r=a(2791),i=a(8355),o=a(6015),s=a(9350),c=a(7205),d=a(6580),l=a(1124),u=a(393),m=a(184);function v(){var e=(0,r.useState)(""),t=(0,n.Z)(e,2),a=t[0],v=t[1],p=(0,r.useState)(""),h=(0,n.Z)(p,2),b=h[0],g=h[1],f=(0,i.Jx)().data,Z=(0,i.Tn)(),x=(0,n.Z)(Z,2),y=x[0],C=x[1],S=C.isLoading,j=C.isSuccess,w=C.isError,I=C.error,A=(0,u.Ds)(),k=A.enqueueSnackbar,z=A.closeSnackbar,R=function(e){var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"name":v(n);break;case"number":g(n)}};return(0,r.useEffect)((function(){j&&k("Contact added successfully",{variant:"success"}),w&&404===(null===I||void 0===I?void 0:I.originalStatus)?k("Sorry, we can't find this page",{variant:"error"}):w&&"FETCH_ERROR"===(null===I||void 0===I?void 0:I.status)?k("Internet is disconnected",{variant:"error"}):w&&k("Something went wrong, please try again later",{variant:"error"})}),[k,j,w,null===I||void 0===I?void 0:I.originalStatus,null===I||void 0===I?void 0:I.status,z]),(0,m.jsxs)(o.Z,{component:"form",onSubmit:function(e){e.preventDefault(),f.some((function(e){return e.name===a}))?alert("".concat(a," is already in contacts")):y({name:a,number:b}),v(""),g("")},sx:{display:"flex",flexDirection:"column",width:"22rem",border:"1px solid black",borderRadius:"4px",padding:"0 1rem"},children:[(0,m.jsx)(s.Z,{label:"Name",size:"small",margin:"normal",type:"text",name:"name",value:a,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:R,required:!0}),(0,m.jsx)(s.Z,{label:"Phone",size:"small",margin:"normal",type:"tel",name:"number",value:b,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:R,required:!0}),(0,m.jsx)(c.Z,{variant:"contained",type:"submit",margin:"normal",sx:{width:"10rem",m:"1rem 0"},endIcon:S?(0,m.jsx)(d.Z,{size:16,thickness:4,color:"inherit"}):(0,m.jsx)(l.Z,{}),children:"Add Contact"})]})}var p=a(8201);function h(e){var t=e.id,a=e.currentName,l=e.currentNumber,v=e.updateContact,h=(0,r.useState)(a),b=(0,n.Z)(h,2),g=b[0],f=b[1],Z=(0,r.useState)(l),x=(0,n.Z)(Z,2),y=x[0],C=x[1],S=(0,i.Jx)().data,j=(0,i.wv)(),w=(0,n.Z)(j,2),I=w[0],A=w[1],k=A.isLoading,z=A.isSuccess,R=A.isError,N=A.error,P=(0,u.Ds)(),L=P.enqueueSnackbar,M=P.closeSnackbar,F=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"name":f(n);break;case"number":C(n)}};return(0,r.useEffect)((function(){z&&(v(t),L("Contact successfully updated",{variant:"success"})),R&&400===(null===N||void 0===N?void 0:N.originalStatus)?L("Error updating contact",{variant:"error"}):R&&"FETCH_ERROR"===(null===N||void 0===N?void 0:N.status)?L("Internet is disconnected",{variant:"error"}):R&&L("Something went wrong, please try again later",{variant:"error"})}),[M,z,R,L,null===N||void 0===N?void 0:N.originalStatus,null===N||void 0===N?void 0:N.status,v,t]),(0,m.jsxs)(o.Z,{component:"form",onSubmit:function(e){e.preventDefault(),S.some((function(e){return e.name===g&&g!==a}))?L("This contact is already in the contacts",{variant:"error"}):g===a&&y===l?v(t):I({id:t,name:g,number:y})},sx:{display:"flex",alignItems:"baseline",padding:"0rem"},children:[(0,m.jsx)(s.Z,{variant:"standard",size:"small",margin:"normal",type:"text",name:"name",value:g,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:F,sx:{width:"".concat(Math.max(g.length/1.75,1),"rem")},required:!0}),(0,m.jsx)(s.Z,{variant:"standard",size:"small",margin:"normal",type:"tel",name:"number",value:y,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:F,sx:{width:"".concat(Math.max(y.length/1.75,1),"rem"),m:"0 1rem"},required:!0}),(0,m.jsx)(c.Z,{variant:"contained",type:"submit",margin:"normal",sx:{width:"12rem",m:"0 1rem"},endIcon:k?(0,m.jsx)(d.Z,{size:16,thickness:6,color:"inherit"}):(0,m.jsx)(p.Z,{}),children:"Update contact"})]})}var b=a(3811),g=a(2877),f=a(542);function Z(e){var t=e.id,a=e.name,o=e.number,s=(0,r.useState)(!1),c=(0,n.Z)(s,2),l=c[0],v=c[1],Z=(0,r.useState)(""),x=(0,n.Z)(Z,2),y=x[0],C=x[1],S=(0,i.Nt)(),j=(0,n.Z)(S,2),w=j[0],I=j[1],A=I.isLoading,k=I.isSuccess,z=I.isError,R=I.error,N=(0,u.Ds)(),P=N.enqueueSnackbar,L=N.closeSnackbar,M=function(e){C(y?"":e)};return(0,r.useEffect)((function(){k&&P("Contact successfully deleted",{variant:"success"}),z&&404===(null===R||void 0===R?void 0:R.originalStatus)?P("Sorry, we can't find this page",{variant:"error"}):z&&"FETCH_ERROR"===(null===R||void 0===R?void 0:R.status)?P("Internet is disconnected",{variant:"error"}):z&&P("Something went wrong, please try again later",{variant:"error"})}),[L,k,z,P,null===R||void 0===R?void 0:R.originalStatus,null===R||void 0===R?void 0:R.status]),(0,r.useEffect)((function(){A&&v(!0)}),[A]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b.Z,{"aria-label":"delete",onClick:function(){return w(t)},color:"primary",sx:{m:"0 1rem 0 0 ",p:"0"},children:l?(0,m.jsx)(d.Z,{size:16,thickness:6}):(0,m.jsx)(g.Z,{})}),(0,m.jsx)(b.Z,{"aria-label":"update",onClick:function(){return M(t)},color:"primary",sx:{m:"0 1rem 0 0 ",p:"0"},children:y?(0,m.jsx)(f.Z,{}):(0,m.jsx)(p.Z,{})}),y?(0,m.jsx)(h,{id:t,currentName:a,currentNumber:o,updateContact:M}):(0,m.jsxs)("span",{children:[a,": ",o]})]})}var x=a(5629),y=a(4942),C=a(3366),S=a(7462),j=a(8182),w=a(4419),I=a(627),A=a(2065),k=a(277),z=a(5513),R=a(753),N=a(6258),P=a(3026),L=a(7933),M=a(8826),F=a(5878),O=a(1217);function G(e){return(0,O.Z)("MuiListItem",e)}var E=(0,F.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var V=(0,F.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function q(e){return(0,O.Z)("MuiListItemSecondaryAction",e)}(0,F.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var _=["className"],D=(0,k.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,S.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),T=r.forwardRef((function(e,t){var a=(0,z.Z)({props:e,name:"MuiListItemSecondaryAction"}),n=a.className,i=(0,C.Z)(a,_),o=r.useContext(M.Z),s=(0,S.Z)({},a,{disableGutters:o.disableGutters}),c=function(e){var t=e.disableGutters,a=e.classes,n={root:["root",t&&"disableGutters"]};return(0,w.Z)(n,q,a)}(s);return(0,m.jsx)(D,(0,S.Z)({className:(0,j.Z)(c.root,n),ownerState:s,ref:t},i))}));T.muiName="ListItemSecondaryAction";var H=T,B=["className"],J=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],$=(0,k.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dense&&t.dense,"flex-start"===a.alignItems&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.button&&t.button,a.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,a=e.theme,n=e.ownerState;return(0,S.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,S.Z)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&(0,y.Z)({},"& > .".concat(V.root),{paddingRight:48}),(t={},(0,y.Z)(t,"&.".concat(E.focusVisible),{backgroundColor:(a.vars||a).palette.action.focus}),(0,y.Z)(t,"&.".concat(E.selected),(0,y.Z)({backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,A.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)},"&.".concat(E.focusVisible),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,A.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)})),(0,y.Z)(t,"&.".concat(E.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),t),"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"},n.button&&(0,y.Z)({transition:a.transitions.create("background-color",{duration:a.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(E.selected,":hover"),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,A.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,A.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}}),n.hasSecondaryAction&&{paddingRight:48})})),U=(0,k.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),W=r.forwardRef((function(e,t){var a=(0,z.Z)({props:e,name:"MuiListItem"}),n=a.alignItems,i=void 0===n?"center":n,o=a.autoFocus,s=void 0!==o&&o,c=a.button,d=void 0!==c&&c,l=a.children,u=a.className,v=a.component,p=a.components,h=void 0===p?{}:p,b=a.componentsProps,g=void 0===b?{}:b,f=a.ContainerComponent,Z=void 0===f?"li":f,x=a.ContainerProps,y=(x=void 0===x?{}:x).className,A=a.dense,k=void 0!==A&&A,F=a.disabled,O=void 0!==F&&F,V=a.disableGutters,q=void 0!==V&&V,_=a.disablePadding,D=void 0!==_&&_,T=a.divider,W=void 0!==T&&T,Y=a.focusVisibleClassName,K=a.secondaryAction,Q=a.selected,X=void 0!==Q&&Q,ee=a.slotProps,te=void 0===ee?{}:ee,ae=a.slots,ne=void 0===ae?{}:ae,re=(0,C.Z)(a.ContainerProps,B),ie=(0,C.Z)(a,J),oe=r.useContext(M.Z),se=r.useMemo((function(){return{dense:k||oe.dense||!1,alignItems:i,disableGutters:q}}),[i,oe.dense,k,q]),ce=r.useRef(null);(0,P.Z)((function(){s&&ce.current&&ce.current.focus()}),[s]);var de=r.Children.toArray(l),le=de.length&&(0,N.Z)(de[de.length-1],["ListItemSecondaryAction"]),ue=(0,S.Z)({},a,{alignItems:i,autoFocus:s,button:d,dense:se.dense,disabled:O,disableGutters:q,disablePadding:D,divider:W,hasSecondaryAction:le,selected:X}),me=function(e){var t=e.alignItems,a=e.button,n=e.classes,r=e.dense,i=e.disabled,o={root:["root",r&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",i&&"disabled",a&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,w.Z)(o,G,n)}(ue),ve=(0,L.Z)(ce,t),pe=ne.root||h.Root||$,he=te.root||g.root||{},be=(0,S.Z)({className:(0,j.Z)(me.root,he.className,u),disabled:O},ie),ge=v||"li";return d&&(be.component=v||"div",be.focusVisibleClassName=(0,j.Z)(E.focusVisible,Y),ge=R.Z),le?(ge=be.component||v?ge:"div","li"===Z&&("li"===ge?ge="div":"li"===be.component&&(be.component="div")),(0,m.jsx)(M.Z.Provider,{value:se,children:(0,m.jsxs)(U,(0,S.Z)({as:Z,className:(0,j.Z)(me.container,y),ref:ve,ownerState:ue},re,{children:[(0,m.jsx)(pe,(0,S.Z)({},he,!(0,I.Z)(pe)&&{as:ge,ownerState:(0,S.Z)({},ue,he.ownerState)},be,{children:de})),de.pop()]}))})):(0,m.jsx)(M.Z.Provider,{value:se,children:(0,m.jsxs)(pe,(0,S.Z)({},he,{as:ge,ref:ve},!(0,I.Z)(pe)&&{ownerState:(0,S.Z)({},ue,he.ownerState)},be,{children:[de,K&&(0,m.jsx)(H,{children:K})]}))})}));function Y(e){var t=e.filter,a=(0,i.Jx)().data,n=null===a||void 0===a?void 0:a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase().trim())}));if(n)return(0,m.jsx)(x.Z,{sx:{mt:"0.5rem"},children:n.map((function(e){var t=e.id,a=e.name,n=e.number;return(0,m.jsx)(W,{sx:{height:"40px"},children:(0,m.jsx)(Z,{id:t,name:a,number:n,contactId:t})},t)}))})}function K(e){var t=e.filter,a=e.handleChange;return(0,m.jsx)(s.Z,{label:"Find contacts by name",size:"small",type:"text",name:"filter",value:t,title:"enter finded name here",onChange:function(e){return a(e.target.value)},sx:{width:"22rem"}})}function Q(){var e=(0,r.useState)(""),t=(0,n.Z)(e,2),a=t[0],i=t[1];return(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{}),(0,m.jsx)("h2",{children:"Contacts"}),(0,m.jsx)(K,{filter:a,handleChange:function(e){i(e)}}),(0,m.jsx)(Y,{filter:a})]})}},542:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),i=a(184),o=(0,r.default)((0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72z"}),"AccessTimeRounded");t.Z=o},1124:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),i=a(184),o=(0,r.default)((0,i.jsx)("path",{d:"M14 8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2V4c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1zm5.21 7.27-2.54-.29c-.61-.07-1.21.14-1.64.57l-1.84 1.84c-2.83-1.44-5.15-3.75-6.59-6.59l1.85-1.85c.43-.43.64-1.04.57-1.64l-.29-2.52c-.11-1.01-.97-1.78-1.98-1.78H5.02c-1.13 0-2.07.94-2 2.07.53 8.54 7.36 15.36 15.89 15.89 1.13.07 2.07-.87 2.07-2v-1.73c.01-1-.76-1.86-1.77-1.97z"}),"AddIcCallRounded");t.Z=o},2877:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),i=a(184),o=(0,r.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),"DeleteRounded");t.Z=o},8201:function(e,t,a){var n=a(4836);t.Z=void 0;var r=n(a(5649)),i=a(184),o=(0,r.default)((0,i.jsx)("path",{d:"m16.95 10.23-5.66 5.66c-.39.39-1.02.39-1.41 0l-2.83-2.83a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0l2.12 2.12 4.95-4.95c.39-.39 1.02-.39 1.41 0 .4.39.4 1.02.01 1.41zM4 12c0-2.33 1.02-4.42 2.62-5.88l1.53 1.53c.31.31.85.09.85-.36V3c0-.28-.22-.5-.5-.5H4.21c-.45 0-.67.54-.35.85L5.2 4.7C3.24 6.52 2 9.11 2 12c0 4.75 3.32 8.73 7.76 9.75.63.14 1.24-.33 1.24-.98 0-.47-.33-.87-.79-.98C6.66 18.98 4 15.8 4 12zm18 0c0-4.75-3.32-8.73-7.76-9.75-.63-.14-1.24.33-1.24.98 0 .47.33.87.79.98C17.34 5.02 20 8.2 20 12c0 2.33-1.02 4.42-2.62 5.88l-1.53-1.53c-.31-.31-.85-.09-.85.36V21c0 .28.22.5.5.5h4.29c.45 0 .67-.54.35-.85L18.8 19.3c1.96-1.82 3.2-4.41 3.2-7.3z"}),"PublishedWithChangesRounded");t.Z=o}}]);
//# sourceMappingURL=743.a3c1a85b.chunk.js.map