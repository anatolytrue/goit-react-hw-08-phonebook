"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[664],{6664:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(5861),s=t(885),o=t(4687),i=t.n(o),a=t(5048),l=t(2791),u=t(8724),d=t(188),c=t(6015),m=t(1181),p=t(1898),h=t(9365),g=t(4420),f=t(8254),v=t(3811),w=t(7205),x=t(6580),Z=t(5286),j=t(9569),b=t(3710),k=t(5206),C=t(184);function y(){var e=(0,l.useState)(""),n=(0,s.Z)(e,2),t=n[0],o=n[1],y=(0,l.useState)(""),S=(0,s.Z)(y,2),_=S[0],A=S[1],I=(0,l.useState)(!1),E=(0,s.Z)(I,2),z=E[0],D=E[1],H=(0,a.I0)(),R=(0,u.OQ)(),q=(0,s.Z)(R,2),F=q[0],L=q[1],M=L.data,O=L.isLoading,P=L.isSuccess,T=L.isError,G=L.error,N=function(){var e=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F({email:t,password:_});case 3:o(""),A("");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Q=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"email":return o(r);case"password":return A(r);default:return}};return(0,l.useEffect)((function(){P&&(H((0,d.qN)({user:{name:M.user.name,email:M.user.email},token:M.token})),k.Am.success("You have logged in successfully!",{position:"top-center",autoClose:3e3})),T&&400===(null===G||void 0===G?void 0:G.originalStatus)?k.Am.error("Sorry, we can't find this page!",{position:"top-center",autoClose:3e3}):T&&"FETCH_ERROR"===(null===G||void 0===G?void 0:G.status)?k.Am.error("Internet is disconnected",{position:"top-center",autoClose:3e3}):T&&k.Am.error("Something went wrong, please try again later!",{position:"top-center",autoClose:3e3})}),[H,P,T,null===G||void 0===G?void 0:G.originalStatus,null===G||void 0===G?void 0:G.status]),(0,C.jsxs)(c.Z,{component:"form",onSubmit:N,sx:{padding:"1.6rem",maxWidth:"16rem",display:"grid",gridTemplateColumns:"1fr",gridGap:"0.4rem",alignItems:"baseline"},children:[(0,C.jsx)(m.Z,{label:"Mail",size:"small",margin:"normal",type:"email",name:"email",value:t,onChange:Q,required:!0}),(0,C.jsxs)(p.Z,{children:[(0,C.jsx)(h.Z,{htmlFor:"outlined-adornment-password",sx:{lineHeight:"2rem"},children:"Password"}),(0,C.jsx)(g.Z,{id:"outlined-adornment-password",type:z?"text":"password",label:"Password",name:"password",value:_,onChange:Q,size:"small",endAdornment:(0,C.jsx)(f.Z,{position:"end",children:(0,C.jsx)(v.Z,{"aria-label":"toggle password visibility",onClick:function(){D(!z)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:z?(0,C.jsx)(j.Z,{}):(0,C.jsx)(b.Z,{})})}),sx:{m:"1 rem 0",lineHeight:"4em"}})]}),(0,C.jsx)(w.Z,{variant:"contained",type:"submit",margin:"normal",sx:{width:"8 rem"},endIcon:O?(0,C.jsx)(x.Z,{size:16,thickness:4,color:"inherit"}):(0,C.jsx)(Z.Z,{}),children:"LogIn"})]})}}}]);
//# sourceMappingURL=664.572bdae6.chunk.js.map