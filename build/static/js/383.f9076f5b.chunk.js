"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[383],{8383:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var a=n(885),o=n(2791),i=n(8355),r=n(6015),s=n(7846),c=n(7205),d=n(6580),l=n(1124),u=n(5206),p=n(184);function m(){var e=(0,o.useState)(""),t=(0,a.Z)(e,2),n=t[0],m=t[1],v=(0,o.useState)(""),h=(0,a.Z)(v,2),b=h[0],g=h[1],f=(0,i.Jx)().data,Z=(0,i.Tn)(),x=(0,a.Z)(Z,2),y=x[0],C=x[1],S=C.isLoading,I=C.isSuccess,A=C.isError,j=C.error,w=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":m(a);break;case"phone":g(a)}};return(0,o.useEffect)((function(){I&&u.Am.success("Contact added successfully",{position:"top-center",autoClose:3e3}),A&&404===(null===j||void 0===j?void 0:j.originalStatus)?u.Am.error("Sorry, we can't find this page",{position:"top-center",autoClose:3e3}):A&&"FETCH_ERROR"===(null===j||void 0===j?void 0:j.status)?u.Am.error("Internet is disconnected",{position:"top-center",autoClose:3e3}):A&&u.Am.error("Something went wrong, please try again later",{position:"top-center",autoClose:3e3})}),[I,A,null===j||void 0===j?void 0:j.originalStatus,null===j||void 0===j?void 0:j.status]),(0,p.jsxs)(r.Z,{component:"form",onSubmit:function(e){e.preventDefault(),f.some((function(e){return e.name===n}))?alert("".concat(n," is already in contacts")):y({name:n,phone:b}),m(""),g("")},sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"20rem",border:"1px solid black",padding:"20px"},children:[(0,p.jsx)(s.Z,{label:"Name",size:"small",margin:"normal",type:"text",name:"name",value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:w,required:!0}),(0,p.jsx)(s.Z,{label:"Phone",size:"small",margin:"normal",type:"tel",name:"phone",value:b,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:w,required:!0}),(0,p.jsx)(c.Z,{variant:"contained",type:"submit",margin:"normal",sx:{width:"10rem",m:"1rem 0"},endIcon:S?(0,p.jsx)(d.Z,{size:16,thickness:4,color:"inherit"}):(0,p.jsx)(l.Z,{}),children:"Add Contact"})]})}var v=n(2181),h="ContactList_phonebookContactListItem__0drQC",b="ContactList_phonebookContactListBtn__CfZrR";function g(e){var t=e.contactId,n=e.name,o=e.number,r=(0,i.Nt)(),s=(0,a.Z)(r,2),c=s[0],d=s[1].isLoading;return(0,p.jsxs)("li",{className:h,children:[(0,p.jsxs)("p",{children:[n," : ",o]}),(0,p.jsx)("button",{type:"button",onClick:function(){return function(e){return c(e)}(t)},className:b,disabled:d,children:d?(0,p.jsx)(v.Z,{}):"Delete"})]})}var f=n(5629),Z=n(4942),x=n(3366),y=n(7462),C=n(8182),S=n(4419),I=n(627),A=n(2065),j=n(277),w=n(5513),k=n(753),L=n(6258),P=n(3026),N=n(7933),R=n(8826),G=n(5878),_=n(1217);function F(e){return(0,_.Z)("MuiListItem",e)}var O=(0,G.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var M=(0,G.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function z(e){return(0,_.Z)("MuiListItemSecondaryAction",e)}(0,G.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var V=["className"],q=(0,j.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,y.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),B=o.forwardRef((function(e,t){var n=(0,w.Z)({props:e,name:"MuiListItemSecondaryAction"}),a=n.className,i=(0,x.Z)(n,V),r=o.useContext(R.Z),s=(0,y.Z)({},n,{disableGutters:r.disableGutters}),c=function(e){var t=e.disableGutters,n=e.classes,a={root:["root",t&&"disableGutters"]};return(0,S.Z)(a,z,n)}(s);return(0,p.jsx)(q,(0,y.Z)({className:(0,C.Z)(c.root,a),ownerState:s,ref:t},i))}));B.muiName="ListItemSecondaryAction";var D=B,T=["className"],E=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],J=(0,j.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,a=e.ownerState;return(0,y.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!a.disablePadding&&(0,y.Z)({paddingTop:8,paddingBottom:8},a.dense&&{paddingTop:4,paddingBottom:4},!a.disableGutters&&{paddingLeft:16,paddingRight:16},!!a.secondaryAction&&{paddingRight:48}),!!a.secondaryAction&&(0,Z.Z)({},"& > .".concat(M.root),{paddingRight:48}),(t={},(0,Z.Z)(t,"&.".concat(O.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,Z.Z)(t,"&.".concat(O.selected),(0,Z.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,A.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(O.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,A.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,Z.Z)(t,"&.".concat(O.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===a.alignItems&&{alignItems:"flex-start"},a.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},a.button&&(0,Z.Z)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(O.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,A.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,A.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),a.hasSecondaryAction&&{paddingRight:48})})),H=(0,j.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),Q=o.forwardRef((function(e,t){var n=(0,w.Z)({props:e,name:"MuiListItem"}),a=n.alignItems,i=void 0===a?"center":a,r=n.autoFocus,s=void 0!==r&&r,c=n.button,d=void 0!==c&&c,l=n.children,u=n.className,m=n.component,v=n.components,h=void 0===v?{}:v,b=n.componentsProps,g=void 0===b?{}:b,f=n.ContainerComponent,Z=void 0===f?"li":f,A=n.ContainerProps,j=(A=void 0===A?{}:A).className,G=n.dense,_=void 0!==G&&G,M=n.disabled,z=void 0!==M&&M,V=n.disableGutters,q=void 0!==V&&V,B=n.disablePadding,Q=void 0!==B&&B,Y=n.divider,$=void 0!==Y&&Y,K=n.focusVisibleClassName,U=n.secondaryAction,W=n.selected,X=void 0!==W&&W,ee=n.slotProps,te=void 0===ee?{}:ee,ne=n.slots,ae=void 0===ne?{}:ne,oe=(0,x.Z)(n.ContainerProps,T),ie=(0,x.Z)(n,E),re=o.useContext(R.Z),se=o.useMemo((function(){return{dense:_||re.dense||!1,alignItems:i,disableGutters:q}}),[i,re.dense,_,q]),ce=o.useRef(null);(0,P.Z)((function(){s&&ce.current&&ce.current.focus()}),[s]);var de=o.Children.toArray(l),le=de.length&&(0,L.Z)(de[de.length-1],["ListItemSecondaryAction"]),ue=(0,y.Z)({},n,{alignItems:i,autoFocus:s,button:d,dense:se.dense,disabled:z,disableGutters:q,disablePadding:Q,divider:$,hasSecondaryAction:le,selected:X}),pe=function(e){var t=e.alignItems,n=e.button,a=e.classes,o=e.dense,i=e.disabled,r={root:["root",o&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,S.Z)(r,F,a)}(ue),me=(0,N.Z)(ce,t),ve=ae.root||h.Root||J,he=te.root||g.root||{},be=(0,y.Z)({className:(0,C.Z)(pe.root,he.className,u),disabled:z},ie),ge=m||"li";return d&&(be.component=m||"div",be.focusVisibleClassName=(0,C.Z)(O.focusVisible,K),ge=k.Z),le?(ge=be.component||m?ge:"div","li"===Z&&("li"===ge?ge="div":"li"===be.component&&(be.component="div")),(0,p.jsx)(R.Z.Provider,{value:se,children:(0,p.jsxs)(H,(0,y.Z)({as:Z,className:(0,C.Z)(pe.container,j),ref:me,ownerState:ue},oe,{children:[(0,p.jsx)(ve,(0,y.Z)({},he,!(0,I.Z)(ve)&&{as:ge,ownerState:(0,y.Z)({},ue,he.ownerState)},be,{children:de})),de.pop()]}))})):(0,p.jsx)(R.Z.Provider,{value:se,children:(0,p.jsxs)(ve,(0,y.Z)({},he,{as:ge,ref:me},!(0,I.Z)(ve)&&{ownerState:(0,y.Z)({},ue,he.ownerState)},be,{children:[de,U&&(0,p.jsx)(D,{children:U})]}))})}));function Y(e){var t=e.filter,n=(0,i.Jx)().data,a=function(){var e=t.toLowerCase().trim();return null===n||void 0===n?void 0:n.filter((function(t){return t.name.toLowerCase().includes(e)}))}();if(console.log(a),a)return(0,p.jsx)(f.Z,{sx:{mt:"1rem"},children:a.map((function(e){var t=e.id,n=e.name,a=e.phone;return(0,p.jsx)(Q,{sx:{height:"30px"},children:(0,p.jsx)(g,{name:n,phone:a,contactId:t},t)},t)}))})}function $(e){var t=e.filter,n=e.handleChange;return(0,p.jsx)(s.Z,{label:"Find contacts by name",size:"small",type:"text",name:"filter",value:t,title:"enter finded name here",onChange:function(e){return n(e.target.value)},sx:{width:"22rem"}})}function K(){var e=(0,o.useState)(""),t=(0,a.Z)(e,2),n=t[0],i=t[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(m,{}),(0,p.jsx)("h2",{children:"Contacts"}),(0,p.jsx)($,{filter:n,handleChange:function(e){i(e)}}),(0,p.jsx)(Y,{filter:n})]})}},1124:function(e,t,n){var a=n(4836);t.Z=void 0;var o=a(n(5649)),i=n(184),r=(0,o.default)((0,i.jsx)("path",{d:"M14 8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h2c.55 0 1-.45 1-1s-.45-1-1-1h-2V4c0-.55-.45-1-1-1s-1 .45-1 1v2h-2c-.55 0-1 .45-1 1s.45 1 1 1zm5.21 7.27-2.54-.29c-.61-.07-1.21.14-1.64.57l-1.84 1.84c-2.83-1.44-5.15-3.75-6.59-6.59l1.85-1.85c.43-.43.64-1.04.57-1.64l-.29-2.52c-.11-1.01-.97-1.78-1.98-1.78H5.02c-1.13 0-2.07.94-2 2.07.53 8.54 7.36 15.36 15.89 15.89 1.13.07 2.07-.87 2.07-2v-1.73c.01-1-.76-1.86-1.77-1.97z"}),"AddIcCallRounded");t.Z=r}}]);
//# sourceMappingURL=383.f9076f5b.chunk.js.map